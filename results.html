<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Soulink – Results</title>
  <!-- auth guard: turi būti prieš kitus skriptus -->
  <script src="auth.js"></script>
  
  <!-- Icons -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
  :root{
    --bg:#003c43;
    --surface:#074c4f;
    --surface-2:#0a3f42;
    --stroke:rgba(0,253,216,.28);
    --glow:rgba(0,253,216,.35);
    --text:#eafff9;
    --muted:#c8f7ef;
    --link:#9afcf0;
    --accent:#00fdd8;
  }
  html,body{ background:var(--bg); color:var(--text); }
  a{ color:var(--link); text-decoration:none; }
  a:hover{ color:var(--accent); }

  nav.navbar{ background:#002e30; box-shadow:0 0 12px rgba(0,253,216,0.25); }
  nav .container-flex{ display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:.8rem 1rem; }
  nav .brand{ font-weight:700; color:var(--accent); }

  .container{ max-width:1100px; margin:0 auto; padding:2rem 1rem; }
  .grid{ display:grid; grid-template-columns:1.1fr 1.9fr; gap:1.2rem; }
  @media (max-width:1000px){ .grid{ grid-template-columns:1fr; } }

  .card{
    background:var(--surface);
    border:1px solid var(--stroke);
    border-radius:16px; padding:1.2rem;
    box-shadow:0 8px 24px rgba(0,0,0,.35), 0 0 0 1px rgba(0,253,216,.06) inset;
  }
  .section-title{ font-weight:800; letter-spacing:.2px; margin:.2rem 0 .8rem; }
  .row{ display:flex; gap:.6rem; align-items:center; flex-wrap:wrap; }

  .btn{
    cursor:pointer; border:1px solid var(--stroke); border-radius:999px;
    padding:.55rem .95rem; font-weight:700; color:var(--text);
    background:linear-gradient(180deg, rgba(0,253,216,.08), rgba(0,253,216,.02));
    box-shadow:0 0 12px rgba(0,253,216,.2); transition:transform .15s ease, box-shadow .15s ease;
  }
  .btn:hover{ box-shadow:0 0 18px rgba(0,253,216,.45); transform:translateY(-1px); }

  input, select{
    width:100%; background:#002f31; color:var(--text);
    border:1px solid var(--stroke); border-radius:10px; padding:.55rem .6rem;
    box-shadow:0 0 0 1px rgba(0,253,216,.04) inset;
  }

  .results-grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.9rem; }
  @media (max-width:800px){ .results-grid{ grid-template-columns:1fr; } }

  .match-card{
    background:var(--surface-2);
    border:1px solid var(--stroke);
    border-radius:14px; padding:1rem;
    box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .head{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; }
  .meta{ display:flex; align-items:center; gap:.6rem; min-width:0; }
  .avatar{ width:44px; height:44px; border-radius:999px; object-fit:cover; flex:0 0 auto;
           box-shadow:0 0 0 2px var(--stroke), 0 0 10px var(--glow); }
  .name{ font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .score{
    display:inline-block; min-width:2.8rem; text-align:center;
    padding:.2rem .55rem; border-radius:999px; border:1px solid var(--stroke);
    background:rgba(0,253,216,.08);
  }
  .score.good{ color:var(--accent); }
  .score.ok{ color:#b5fff5; }
  .score.low{ color:#9fd7d0; }

  .social-icons{ display:flex; gap:.5rem; flex-wrap:wrap; margin:.4rem 0; }
  .social-icons .icon{
    display:inline-flex; align-items:center; justify-content:center;
    width:38px; height:38px; border-radius:50%;
    background:rgba(0,253,216,.08);
    box-shadow:0 0 12px rgba(0,253,216,.45), 0 0 0 1px rgba(0,253,216,.2) inset;
    color:var(--accent); text-decoration:none;
    transition:transform .15s ease, box-shadow .15s ease, filter .2s;
  }
  .social-icons .icon .bi{ font-size:1.1rem; line-height:1; }
  .social-icons .icon:hover{ transform:translateY(-2px); filter:brightness(1.15);
    box-shadow:0 0 20px rgba(0,253,216,.65), 0 0 0 1px rgba(0,253,216,.4) inset; }

  .insights-grid{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:.8rem; }
  @media (max-width:900px){ .insights-grid{ grid-template-columns:1fr; } }
  .pill{ display:inline-block; padding:.3rem .6rem; border-radius:999px; border:1px solid var(--stroke); background:rgba(0,253,216,.08); }
  #insights .pill.active{
  box-shadow:0 0 0 2px var(--stroke), 0 0 16px rgba(0,253,216,.25);
  background:rgba(0,253,216,.12);
}

  /* Feedback stars */
  /* Feedback stars (geltonos) */

#feedback-card .row{ align-items:flex-start; }

#fbStars{
  display:flex;
  gap:.4rem;
  flex-wrap:wrap;
}

#fbStars input{
  display:none;          /* slepiam radio burbuliukus */
}

#fbStars label{
  cursor:pointer;
  font-size:1.6rem;
  line-height:1;
  color:#8a8a8a;         /* neaktyvios – pilkos */
  text-shadow:0 0 6px rgba(0,0,0,.15);
  transition: transform .1s, color .15s;
}

#fbStars label.active{
  color:#FFD166 !important;                         /* aktyvios – GELTONOS */
  text-shadow:0 0 10px rgba(255,209,102,.35) !important;
  transform: translateY(-1px);
}

/* laukai per visą plotį */
#feedback-card input[type="email"],
#feedback-card textarea{
  width:100%;
}

  /* Print */
  @media print{
    nav, .actions, .btn { display:none !important; }
    .card{ box-shadow:none; border-color:#ddd; }
    html, body{ background:#fff; color:#000; }
    a{ color:#000; text-decoration:none; }
  }
  </style>
  <style>
/* Soulink navbar (scoped) */
:root{
  --nav-bg: rgba(0,60,67,.9);
  --nav-border: rgba(0,253,216,.28);
  --nav-accent: var(--accent, #00fdd8);
  --nav-fg: var(--text, #eafff9);
}
.soulink-nav{position:sticky;top:0;z-index:100;background:var(--nav-bg);backdrop-filter:blur(8px);border-bottom:1px solid var(--nav-border);}
.soulink-nav .nav-inner{max-width:1180px;margin:0 auto;padding:.6rem 1rem;display:grid;grid-template-columns:auto 40px 1fr;align-items:center;gap:.8rem;}
.soulink-nav .brand{color:var(--nav-accent);font-weight:800;text-decoration:none;letter-spacing:.2px;}
.soulink-nav .nav{justify-self:end;}
.soulink-nav .nav-links{list-style:none;margin:0;padding:0;display:flex;gap:.6rem;flex-wrap:wrap;}
.soulink-nav .nav-links a{display:inline-block;color:var(--nav-fg);text-decoration:none;padding:.5rem .7rem;border-radius:10px;border:1px solid transparent;transition:box-shadow .18s,transform .12s,background .18s;}
.soulink-nav .nav-links a:hover{border-color:var(--nav-border);box-shadow:0 0 0 1px var(--nav-border),0 0 16px rgba(0,253,216,.18);transform:translateY(-1px);}
.soulink-nav .nav-links a.active,.soulink-nav .nav-links a[aria-current="page"]{color:var(--nav-fg);background:rgba(0,253,216,.10);box-shadow:0 0 0 2px var(--nav-accent) inset,0 0 18px rgba(0,253,216,.25);}
.soulink-nav .nav-toggle{justify-self:end;width:40px;height:36px;border-radius:10px;background:transparent;border:1px solid var(--nav-border);color:var(--nav-fg);display:none;align-items:center;justify-content:center;gap:4px;cursor:pointer;}
.soulink-nav .nav-toggle .bar{display:block;width:18px;height:2px;background:var(--nav-fg);}
@media (max-width:860px){
  .soulink-nav .nav-inner{grid-template-columns:1fr auto;}
  .soulink-nav .nav-toggle{display:inline-flex;}
  .soulink-nav .nav{grid-column:1/-1;width:100%}
  .soulink-nav .nav-links{display:none;flex-direction:column;gap:.3rem;padding-top:.6rem;}
  .soulink-nav .nav-links.open{display:flex;}
  .soulink-nav .nav-links a{padding:.65rem .8rem;}
}
.soulink-nav::after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:linear-gradient(90deg,transparent,var(--nav-accent),transparent);opacity:0;transform:scaleX(.2);transition:opacity .25s,transform .25s;}
.soulink-nav.scrolled::after{opacity:.85;transform:scaleX(1);}
@media (prefers-reduced-motion:reduce){.soulink-nav .nav-links a,.soulink-nav::after{transition:none}}
</style>



</head>
<body>
 <header class="soulink-nav" role="banner">
  <div class="nav-inner">
    <a class="brand" href="index.html">Soulink</a>

    <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>

    <nav class="nav" aria-label="Primary">
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="edit-profile.html">Edit Profile</a></li>
        <li><a href="my-soul.html">My Soul</a></li>
        <li><a href="soul-chart.html">Soul Chart</a></li>
        <li><a href="soul-coach.html">Soul Coach</a></li>
        <li><a href="match.html">Match</a></li>
        <li><a href="friends.html">Friends</a></li>
        <li><a href="results.html" class="active" aria-current="page">Results</a></li>
        <li><a href="login.html">Log In</a></li>
        <li><a href="signup.html">Sign Up</a></li>
        <li><a href="logout.html">Log Out</a></li>
      </ul>
    </nav>
  </div>
</header>



    <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>


      <label style="width:100%;">
        Email (optional)
        <input type="email" id="fbEmail" placeholder="you@example.com" autocomplete="email">
      </label>
    </div>

    <label style="display:block; margin-top:.6rem;">
      Comments
      <textarea id="fbText" rows="4" maxlength="600" placeholder="What worked well? What should we improve?"></textarea>
      <small class="hint" style="float:right;"><span id="fbCount">0</span>/600</small>
    </label>

    <!-- Hidden context (užpildys JS) -->
    <input type="hidden" id="fbWeight">
    <input type="hidden" id="fbAvg">
    <input type="hidden" id="fbTop3">
    <input type="hidden" id="fbH">
    <input type="hidden" id="fbV">
    <input type="hidden" id="fbTs">

    <div class="row" style="margin-top:.8rem;">
      <button class="btn" type="submit" id="fbSend">Send Feedback</button>
      <span id="fbStatus" class="hint" style="margin-left:.6rem;"></span>
    </div>
  </form>
</section>



  <main class="container">
    <section class="card" id="feedback-card" style="margin-top:1rem;">
  <h3 class="section-title">Feedback</h3>

  <form id="feedbackForm" novalidate>
    <div class="row" style="flex-direction:column; gap:.6rem;">
      <div>
        <div class="hint" style="margin-bottom:.25rem;">Rating</div>
        <div id="fbStars" class="stars" role="radiogroup" aria-label="Rate">
          <input id="s1" type="radio" name="rating" value="1"><label for="s1">★</label>
          <input id="s2" type="radio" name="rating" value="2"><label for="s2">★</label>
          <input id="s3" type="radio" name="rating" value="3"><label for="s3">★</label>
          <input id="s4" type="radio" name="rating" value="4"><label for="s4">★</label>
          <input id="s5" type="radio" name="rating" value="5"><label for="s5">★</label>
        </div>
      </div>
    <h1 class="section-title" style="font-size:1.6rem;">🏁 Results</h1>
    <header class="soulink-nav" role="banner">
  <div class="nav-inner">
    <a class="brand" href="index.html">Soulink</a>

    <div class="grid">
      <!-- Left: your snapshot + controls -->
      <section class="card">
        <h3 class="section-title">Your Snapshot</h3>
        <p><strong>Name:</strong> <span id="me-name">–</span></p>
        <p><strong>Connection:</strong> <span id="me-ct">–</span></p>
        <p><strong>Love Language:</strong> <span id="me-ll">–</span></p>
        <p><strong>Hobbies:</strong> <span id="me-hobbies">–</span></p>
        <p><strong>Values:</strong> <span id="me-values">–</span></p>

        <hr style="border-color:var(--stroke); border-width:1px; margin:1rem 0;">

        <h3 class="section-title">Settings</h3>
        <label>Love Language Weight (x)
          <input id="llWeight" type="range" min="0" max="2" step="0.1" value="1">
        </label>
        <div class="row" style="justify-content:space-between;">
          <span id="llwLabel" class="pill">1.0×</span>
          <div class="actions">
            <button id="btnExport" class="btn" type="button">Export Results JSON</button>
            <button id="btnPrint" class="btn" type="button">Print / Save PDF</button>
          </div>
        </div>

        <hr style="border-color:var(--stroke); border-width:1px; margin:1rem 0;">

        <div class="row">
          <a class="btn" href="friends.html">← Friends</a>
          <a class="btn" href="match.html">← Match</a>
          <a class="btn" href="compare.html">Compare →</a>
        </div>
      </section>

      <!-- Right: results -->
      <section class="card">
        <h3 class="section-title">Top Matches</h3>

        <div class="insights-grid" id="insights"></div>

        <h4 class="section-title" id="romHdr" style="margin-top:1rem;">Romantic</h4>
        <div id="romantic" class="results-grid"></div>

        <h4 class="section-title" id="friHdr" style="margin-top:1rem;">Friendship</h4>
        <div id="friendship" class="results-grid"></div>

        <p id="empty" class="hint" style="display:none; margin-top:.6rem;">No friends yet. Add some on the Friends page.</p>
      </section>
      </div> <!-- ← uždarom .grid -->
  </main>

  <footer>
      <span>© 2025 Soulink.global | Created with love by Soulink Team</span>
    </footer>
  
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>try{ emailjs.init("SV7ptjuNI88paiVbz"); }catch(e){}</script>
<script src="results.js?v=16"></script>

<script>
(() => {
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  // open/close on mobile
  const toggle = $('.soulink-nav .nav-toggle');
  const list   = $('.soulink-nav .nav-links');
  if (toggle && list){
    toggle.addEventListener('click', () => {
      const open = !list.classList.contains('open');
      list.classList.toggle('open', open);
      toggle.setAttribute('aria-expanded', String(open));
    });
  }

  // active link (by pathname OR optional body[data-page])
  const path = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
  const pageHint = (document.body.getAttribute('data-page') || '').toLowerCase();

  const map = {
    'index.html':'index.html',
    'quiz.html':'quiz.html',
    'edit-profile.html':'edit-profile.html',
    'my-soul.html':'my-soul.html',
    'soul-chart.html':'soul-chart.html',
    'soul-coach.html':'soul-coach.html',
    'match.html':'match.html',
    'friends.html':'friends.html',
    'results.html':'results.html',
    'login.html':'login.html',
    'signup.html':'signup.html',
    'logout.html':'logout.html'
  };

  const current = pageHint && map[pageHint] ? map[pageHint] : map[path] || 'index.html';
  $$('.soulink-nav .nav-links a').forEach(a=>{
    const href = (a.getAttribute('href')||'').toLowerCase();
    if (href.endsWith(current)){
      a.classList.add('active');
      a.setAttribute('aria-current','page');
    }
  });

  // teal underline when scrolled
  const hdr = $('.soulink-nav');
  const onScroll = () => {
    if (!hdr) return;
    hdr.classList.toggle('scrolled', window.scrollY > 6);
  };
  onScroll(); window.addEventListener('scroll', onScroll, {passive:true});
})();
</script>
</<body data-page="results.html">

</html>
