<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Soulink ‚Äì Results</title>
  <!-- auth guard: turi b≈´ti prie≈° kitus skriptus -->
  <script src="auth.js"></script>
  
  <!-- Icons -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
  /* ===== Theme tokens ===== */
  :root{
    --bg:#003c43;
    --surface:#074c4f;
    --surface-2:#0a3f42;
    --stroke:rgba(0,253,216,.28);
    --glow:rgba(0,253,216,.35);
    --text:#eafff9;
    --muted:#c8f7ef;
    --link:#9afcf0;
    --accent:#00fdd8;

    /* navbar (scoped) */
    --nav-bg: rgba(0,60,67,.9);
    --nav-border: rgba(0,253,216,.28);
    --nav-accent: var(--accent);
    --nav-fg: var(--text);
  }

  /* ===== Base ===== */
  *{ box-sizing:border-box; }
  html,body{ background:var(--bg); color:var(--text); margin:0; }
  a{ color:var(--link); text-decoration:none; }
  a:hover{ color:var(--accent); }

  .container{ max-width:1100px; margin:0 auto; padding:2rem 1rem; }

  /* ===== Cards / common ===== */
  .card{
    background:var(--surface);
    border:1px solid var(--stroke);
    border-radius:16px;
    padding:1.2rem;
    box-shadow:0 8px 24px rgba(0,0,0,.35), 0 0 0 1px rgba(0,253,216,.06) inset;
  }
  .section-title{ font-weight:800; letter-spacing:.2px; margin:.2rem 0 .8rem; }
  .row{ display:flex; gap:.6rem; align-items:center; flex-wrap:wrap; }

  .btn{
    cursor:pointer;
    border:1px solid var(--stroke);
    border-radius:999px;
    padding:.55rem .95rem;
    font-weight:700;
    color:var(--text);
    background:linear-gradient(180deg, rgba(0,253,216,.08), rgba(0,253,216,.02));
    box-shadow:0 0 12px rgba(0,253,216,.2);
    transition:transform .15s ease, box-shadow .15s ease;
  }
  .btn:hover{ box-shadow:0 0 18px rgba(0,253,216,.45); transform:translateY(-1px); }

  input, select, textarea{
    width:100%;
    background:#002f31;
    color:var(--text);
    border:1px solid var(--stroke);
    border-radius:10px;
    padding:.55rem .6rem;
    box-shadow:0 0 0 1px rgba(0,253,216,.04) inset;
  }

  /* ===== Layout ===== */
  .grid{ display:grid; grid-template-columns:1.1fr 1.9fr; gap:1.2rem; }

  /* ===== Match card bits ===== */
  .match-card{
    background:var(--surface-2);
    border:1px solid var(--stroke);
    border-radius:14px;
    padding:1rem;
    box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .head{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; }
  .meta{ display:flex; align-items:center; gap:.6rem; min-width:0; }
  .avatar{
    width:44px; height:44px; border-radius:999px; object-fit:cover; flex:0 0 auto;
    box-shadow:0 0 0 2px var(--stroke), 0 0 10px var(--glow);
  }
  .name{ font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .score{
    display:inline-block; min-width:2.8rem; text-align:center;
    padding:.2rem .55rem; border-radius:999px; border:1px solid var(--stroke);
    background:rgba(0,253,216,.08);
  }
  .score.good{ color:var(--accent); }
  .score.ok{ color:#b5fff5; }
  .score.low{ color:#9fd7d0; }

  .social-icons{ display:flex; gap:.5rem; flex-wrap:wrap; margin:.4rem 0; }
  .social-icons .icon{
    display:inline-flex; align-items:center; justify-content:center;
    width:38px; height:38px; border-radius:50%;
    background:rgba(0,253,216,.08);
    box-shadow:0 0 12px rgba(0,253,216,.45), 0 0 0 1px rgba(0,253,216,.2) inset;
    color:var(--accent); text-decoration:none;
    transition:transform .15s ease, box-shadow .15s ease, filter .2s;
  }
  .social-icons .icon .bi{ font-size:1.1rem; line-height:1; }
  .social-icons .icon:hover{
    transform:translateY(-2px); filter:brightness(1.15);
    box-shadow:0 0 20px rgba(0,253,216,.65), 0 0 0 1px rgba(0,253,216,.4) inset;
  }

  .pill{ display:inline-block; padding:.3rem .6rem; border-radius:999px; border:1px solid var(--stroke); background:rgba(0,253,216,.08); }
  #insights .pill.active{ box-shadow:0 0 0 2px var(--stroke), 0 0 16px rgba(0,253,216,.25); background:rgba(0,253,216,.12); }

  /* ===== Feedback ===== */
  #feedback-card .row{ align-items:flex-start; }
  #fbStars{ display:flex; gap:.4rem; flex-wrap:wrap; }
  #fbStars input{ display:none; }
  #fbStars label{
    cursor:pointer; font-size:1.6rem; line-height:1;
    color:#8a8a8a; text-shadow:0 0 6px rgba(0,0,0,.15);
    transition: transform .1s, color .15s;
  }
  #fbStars label.active{
    color:#FFD166 !important;
    text-shadow:0 0 10px rgba(255,209,102,.35) !important;
    transform: translateY(-1px);
  }
  #feedback-card input[type="email"],
  #feedback-card textarea{ width:100%; }

  /* ===== Navbar (Soulink) ===== */
  .soulink-nav{
    position:sticky; top:0; z-index:100;
    background:var(--nav-bg);
    backdrop-filter:blur(8px);
    border-bottom:1px solid var(--nav-border);
  }
  .soulink-nav .brand{
    color:var(--nav-accent); font-weight:800; text-decoration:none; letter-spacing:.2px;
  }
  .soulink-nav .nav{ justify-self:end; }

  /* vienintelis nav-links apra≈°as (NEBE dubliuojam) */
 .soulink-nav .nav-links{
  list-style:none; margin:0; padding:0;
  display:flex; gap:.6rem;
  flex-wrap: nowrap;           /* nelau≈æom eiluƒçi≈≥ */
  overflow-x: auto;            /* jei netilps ‚Äì slinksis horizontaliai */
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
  .soulink-nav .nav-links::-webkit-scrollbar{ display:none; }
  .soulink-nav .nav-links a{ flex: 0 0 auto; }   /* linkai nesusispaud≈æia */  
  .soulink-nav .nav .nav-links a:hover{
    border-color:var(--nav-border);
    box-shadow:0 0 0 1px var(--nav-border),0 0 16px rgba(0,253,216,.18);
    transform:translateY(-1px);
  }
  .soulink-nav .nav .nav-links a.active,
  .soulink-nav .nav .nav-links a[aria-current="page"]{
    color:var(--nav-fg);
    background:rgba(0,253,216,.10);
    box-shadow:0 0 0 2px var(--nav-accent) inset,0 0 18px rgba(0,253,216,.25);
  }

  .soulink-nav .nav-toggle{
    justify-self:end; width:40px; height:36px; border-radius:10px;
    background:transparent; border:1px solid var(--nav-border); color:var(--nav-fg);
    display:none; align-items:center; justify-content:center; gap:4px; cursor:pointer;
  }
  .soulink-nav .nav-toggle .bar{ display:block; width:18px; height:2px; background:var(--nav-fg); }

  /* Vienas @media blokas ‚Äì ankstinam hamburger'ƒØ iki 1200px */
@media (max-width:1200px){
  .soulink-nav .nav-inner{ grid-template-columns:1fr auto; }
  .soulink-nav .nav-toggle{ display:inline-flex; }
  .soulink-nav .nav{ grid-column:1 / -1; width:100%; }
  .soulink-nav .nav .nav-links{ display:none; flex-direction:column; gap:.3rem; padding-top:.6rem; }
  .soulink-nav .nav .nav-links.open{ display:flex; }
  .soulink-nav .nav .nav-links a{ padding:.65rem .8rem; }
}

.soulink-nav .nav .nav-links a:hover{
  border-color:var(--nav-border);
  box-shadow:0 0 0 1px var(--nav-border),0 0 16px rgba(0,253,216,.18);
  transform:translateY(-1px);
}
.soulink-nav .nav .nav-links a.active,
.soulink-nav .nav .nav-links a[aria-current="page"]{
  color:var(--nav-fg);
  background:rgba(0,253,216,.10);
  box-shadow:0 0 0 2px var(--nav-accent) inset,0 0 18px rgba(0,253,216,.25);
}

  .soulink-nav::after{
    content:""; position:absolute; left:0; right:0; bottom:0; height:2px;
    background:linear-gradient(90deg,transparent,var(--nav-accent),transparent);
    opacity:0; transform:scaleX(.2);
    transition:opacity .25s,transform .25s;
  }
  .soulink-nav.scrolled::after{ opacity:.85; transform:scaleX(1); }
  @media (prefers-reduced-motion:reduce){
    .soulink-nav .nav .nav-links a, .soulink-nav::after{ transition:none; }
  }

  /* ===== Print ===== */
  @media print{
    .soulink-nav, .actions, .btn { display:none !important; }
    .card{ box-shadow:none; border-color:#ddd; }
    html, body{ background:#fff; color:#000; }
    a{ color:#000; text-decoration:none; }
  }
</style>


</head>
<body data-page="results.html">
  <!-- NAV -->
  <header class="soulink-nav" role="banner">
    <div class="nav-inner">
      <a class="brand" href="index.html">Soulink</a>

      <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>

      <nav class="nav" aria-label="Primary">
        <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="edit-profile.html">Edit Profile</a></li>
        <li><a href="my-soul.html">My Soul</a></li>
        <li><a href="soul-chart.html">Soul Chart</a></li>
        <li><a href="soul-coach.html">Soul Coach</a></li>
        <li><a href="match.html">Match</a></li>
        <li><a href="friends.html">Friends</a></li>
        <li><a href="results.html">Results</a></li>
        <li><a href="login.html">Log In</a></li>
        <li><a href="signup.html">Sign Up</a></li>
        <li><a href="logout.html">Log Out</a></li>
      </ul>

      </nav>
    </div>
  </header>

  <!-- PAGE -->
  <main class="container">
    <h1 class="section-title" style="font-size:1.6rem;">üèÅ Results</h1>

   <section class="card" id="feedback-card" style="margin-top:1rem;">
  <h3 class="section-title">Feedback</h3>

  <form id="feedbackForm" novalidate>
    <div class="row" style="flex-direction:column; gap:.6rem; width:100%;">

      <!-- Stars -->
      <div>
        <div class="hint" style="margin-bottom:.25rem;">Rating</div>
        <div id="fbStars" class="stars" role="radiogroup" aria-label="Rate">
          <input id="s1" type="radio" name="rating" value="1">
          <label for="s1" aria-label="1 star">‚òÖ</label>

          <input id="s2" type="radio" name="rating" value="2">
          <label for="s2" aria-label="2 stars">‚òÖ</label>

          <input id="s3" type="radio" name="rating" value="3">
          <label for="s3" aria-label="3 stars">‚òÖ</label>

          <input id="s4" type="radio" name="rating" value="4">
          <label for="s4" aria-label="4 stars">‚òÖ</label>

          <input id="s5" type="radio" name="rating" value="5" checked>
          <label for="s5" aria-label="5 stars">‚òÖ</label>
        </div>
      </div>

      <!-- Email -->
      <label style="width:100%;">Email (optional)
        <input type="email" id="fbEmail" placeholder="you@example.com" autocomplete="email">
      </label>

      <!-- Comment + counter -->
      <label style="display:block; margin-top:.6rem;">Comments
        <textarea id="fbText" rows="4" maxlength="600"
          placeholder="What worked well? What should we improve?"></textarea>
        <small class="hint" style="float:right;"><span id="fbCount">0</span>/600</small>
      </label>

      <!-- Hidden context (filled by JS) -->
      <input type="hidden" id="fbWeight">
      <input type="hidden" id="fbAvg">
      <input type="hidden" id="fbTop3">
      <input type="hidden" id="fbH">
      <input type="hidden" id="fbV">
      <input type="hidden" id="fbTs">

      <!-- Submit -->
      <div class="row" style="margin-top:.8rem;">
        <button class="btn" type="submit" id="fbSend">Send Feedback</button>
        <span id="fbStatus" class="hint" style="margin-left:.6rem;"></span>
      </div>
    </div>
  </form>
</section>


    <!-- Results (grid: kairƒó + de≈°inƒó) -->
    <section class="card" style="margin-top:1rem;">
      <div class="grid">

        <!-- Kairƒó: Snapshot + Settings -->
        <section class="card" style="margin:0;">
          <h3 class="section-title">Your Snapshot</h3>
          <p><strong>Name:</strong> <span id="me-name">‚Äì</span></p>
          <p><strong>Connection:</strong> <span id="me-ct">‚Äì</span></p>
          <p><strong>Love Language:</strong> <span id="me-ll">‚Äì</span></p>
          <p><strong>Hobbies:</strong> <span id="me-hobbies">‚Äì</span></p>
          <p><strong>Values:</strong> <span id="me-values">‚Äì</span></p>

          <hr style="border-color:var(--stroke); border-width:1px; margin:1rem 0;">

          <h3 class="section-title">Settings</h3>
          <label>Love Language Weight (x)
            <input id="llWeight" type="range" min="0" max="2" step="0.1" value="1">
          </label>
          <div class="row" style="justify-content:space-between;">
            <span id="llwLabel" class="pill">1.0√ó</span>
            <div class="actions">
              <button id="btnExport" class="btn" type="button">Export Results JSON</button>
              <button id="btnPrint" class="btn" type="button">Print / Save PDF</button>
            </div>
          </div>

          <hr style="border-color:var(--stroke); border-width:1px; margin:1rem 0;">

          <div class="row">
            <a class="btn" href="friends.html">‚Üê Friends</a>
            <a class="btn" href="match.html">‚Üê Match</a>
            <a class="btn" href="compare.html">Compare ‚Üí</a>
          </div>
        </section>

        <!-- De≈°inƒó: Insights + sƒÖra≈°ai -->
        <section class="card" style="margin:0;">
          <h3 class="section-title">Top Matches</h3>

          <div class="insights-grid" id="insights"></div>

          <h4 class="section-title" id="romHdr" style="margin-top:1rem;">Romantic</h4>
          <div id="romantic" class="results-grid"></div>

          <h4 class="section-title" id="friHdr" style="margin-top:1rem;">Friendship</h4>
          <div id="friendship" class="results-grid"></div>

          <p id="empty" class="hint" style="display:none; margin-top:.6rem;">No friends yet. Add some on the Friends page.</p>
        </section>

      </div><!-- /.grid -->
    </section>
  </main>

  <footer>
    <span>¬© 2025 Soulink.global | Created with love by Soulink Team</span>
  </footer>

  <!-- EmailJS (PUBLIC key only) -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>try{ emailjs.init('SV7ptjuNI88paiVbz'); }catch(e){}</script>

  <!-- Results logic -->
  <script src="results.js"></script>

  <!-- Vienas vienintelis navbar skriptas -->
  <script>
    (function(){
      const toggle = document.querySelector('.soulink-nav .nav-toggle');
      const list   = document.querySelector('.soulink-nav .nav-links');
      const hdr    = document.querySelector('.soulink-nav');

      if (toggle && list){
        toggle.addEventListener('click', () => {
          const open = !list.classList.contains('open');
          list.classList.toggle('open', open);
          toggle.setAttribute('aria-expanded', String(open));
        });
      }

      const pageHint = (document.body.getAttribute('data-page') || '').toLowerCase();
      const path = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
      const current = pageHint || path;

      document.querySelectorAll('.soulink-nav .nav-links a').forEach(a=>{
        const href = (a.getAttribute('href')||'').toLowerCase();
        if (href.endsWith(current)){
          a.classList.add('active');
          a.setAttribute('aria-current','page');
        }
      });

      const onScroll = () => hdr && hdr.classList.toggle('scrolled', window.scrollY > 6);
      onScroll(); window.addEventListener('scroll', onScroll, {passive:true});
    })();
  </script>
  <script src="nav.js" defer></script>
</body>
</html>
