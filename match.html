<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Soulink â€” Match</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Soulink Match Lab â€” demo matches now, clean path to real users later." />
  <link rel="stylesheet" href="style.css" />
  <script src="auth.js" defer></script>
  <script src="data-helpers.js" defer></script>
  <script src="nav.js" defer></script>
  <script src="match.js" defer></script>

  <style>
    /* Navbar visibility fix (mobile): keep header above page layers so nav.js remains usable */
    header.topnav { z-index: 9999 !important; }
    header.topnav .topnav-inner { position: relative; z-index: 1; }
    @media (max-width: 720px) {
      header.topnav { position: sticky; top: 0; }
    }

    .match-page { position: relative; }
    .match-page .page-inner { max-width: 1120px; margin: 0 auto; padding: 1.75rem 1.25rem 2.5rem; box-sizing: border-box; }

    .match-page::before {
      content: "";
      position: fixed;
      inset: -40vh -40vw;
      pointer-events: none;
      opacity: 0.9;
      z-index: -1;
      background:
        radial-gradient(circle at 0% 0%, rgba(0, 253, 216, 0.14), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(0, 253, 216, 0.10), transparent 60%);
    }

    .m-empty-card {
      margin-top: 2.25rem;
      padding: 1.8rem 1.6rem 1.9rem;
      border-radius: 22px;
      border: 1px solid rgba(0, 253, 216, 0.32);
      background: radial-gradient(circle at 0 0, rgba(0, 253, 216, 0.18), transparent 55%), rgba(0, 0, 0, 0.84);
      box-shadow: 0 0 0 1px rgba(0, 253, 216, 0.28), 0 22px 60px rgba(0, 0, 0, 0.92);
      text-align: left;
    }
    .m-empty-title { display: inline-flex; align-items: center; gap: 0.45rem; font-size: 1.05rem; letter-spacing: 0.03em; }
    .m-empty-subtitle { margin-top: 0.75rem; font-size: 0.95rem; opacity: 0.9; }
    .m-empty-actions { margin-top: 1.25rem; display: flex; flex-wrap: wrap; gap: 0.85rem; }
    .m-empty-actions .btn { min-width: 170px; }

    .m-hero {
      margin-top: 2rem;
      padding: 1.8rem 1.6rem 1.9rem;
      border-radius: 24px;
      border: 1px solid rgba(0, 253, 216, 0.38);
      background:
        radial-gradient(circle at 0% 0%, rgba(0, 253, 216, 0.22), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(0, 253, 216, 0.16), transparent 60%),
        rgba(0, 0, 0, 0.84);
      box-shadow:
        0 0 0 1px rgba(0, 253, 216, 0.32),
        0 26px 68px rgba(0, 0, 0, 0.88),
        inset 0 0 26px rgba(0, 253, 216, 0.15);
      backdrop-filter: blur(16px);
      overflow: hidden;
    }

    .m-hero-inner {
      display: grid;
      gap: 1.4rem;
      grid-template-columns: minmax(0, 1fr);
      align-items: start;
    }

    @media (min-width: 920px) {
      .m-hero-inner {
        grid-template-columns: minmax(0, 1fr) 340px;
        gap: 1.6rem;
      }
    }

    .m-kicker { font-size: 0.85rem; letter-spacing: 0.14em; text-transform: uppercase; opacity: 0.85; margin: 0; }
    .m-title { margin: 0.45rem 0 0; font-size: clamp(1.55rem, 3.2vw, 2.1rem); line-height: 1.1; }
    .m-subtitle { margin: 0.7rem 0 0; font-size: 0.95rem; opacity: 0.9; max-width: 60ch; }

    .m-hero-meta {
      margin-top: 1.1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
    }

    .m-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.45rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(0, 253, 216, 0.45);
      background:
        radial-gradient(circle at 0 0, rgba(0, 253, 216, 0.18), transparent 60%),
        rgba(0, 0, 0, 0.38);
      box-shadow: 0 0 0 1px rgba(0, 253, 216, 0.22), 0 0 18px rgba(0, 253, 216, 0.28);
      font-size: 0.78rem;
      white-space: nowrap;
    }
    .m-pill strong { font-weight: 700; letter-spacing: 0.04em; }

    .m-hero-right {
      display: grid;
      gap: 0.9rem;
    }

    .m-hero-card {
      border-radius: 20px;
      border: 1px solid rgba(0, 253, 216, 0.34);
      background:
        radial-gradient(circle at top left, rgba(0, 253, 216, 0.20), transparent 62%),
        rgba(0, 0, 0, 0.78);
      box-shadow: 0 0 0 1px rgba(0, 253, 216, 0.22), 0 18px 44px rgba(0, 0, 0, 0.76);
      padding: 1rem 1rem 1.05rem;
    }

    .m-hero-card-title {
      margin: 0;
      font-size: 0.92rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      opacity: 0.88;
    }

    .m-hero-card-body {
      margin-top: 0.65rem;
      display: grid;
      gap: 0.6rem;
      font-size: 0.9rem;
    }

    .m-hero-row {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.75rem;
    }
    .m-hero-row span { opacity: 0.82; }
    .m-hero-row strong { font-weight: 700; letter-spacing: 0.01em; }

    .m-controls {
      margin-top: 1.45rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.7rem;
      align-items: center;
      justify-content: space-between;
    }

    .m-search {
      flex: 1 1 260px;
      min-width: 240px;
      position: relative;
    }

    .m-search input {
      width: 100%;
      padding: 0.8rem 0.95rem;
      border-radius: 999px;
      border: 1px solid rgba(0, 253, 216, 0.35);
      background: rgba(0, 0, 0, 0.65);
      color: inherit;
      outline: none;
      box-shadow: 0 0 0 1px rgba(0, 253, 216, 0.18);
    }

    .m-search input:focus {
      border-color: rgba(0, 253, 216, 0.55);
      box-shadow: 0 0 0 2px rgba(0, 253, 216, 0.22), 0 0 24px rgba(0, 253, 216, 0.18);
    }

    .m-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      align-items: center;
      justify-content: flex-end;
    }

    .m-actions .btn { min-width: 150px; }

    @media (max-width: 720px) {
      .m-controls { justify-content: stretch; }
      .m-actions { width: 100%; justify-content: stretch; }
      .m-actions .btn { flex: 1 1 160px; min-width: 0; }
    }

    .m-section-title {
      margin: 1.7rem 0 0.85rem;
      font-size: 1.02rem;
      letter-spacing: 0.02em;
    }

    .m-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    .m-card {
      border-radius: 22px;
      border: 1px solid rgba(0, 253, 216, 0.30);
      background:
        radial-gradient(circle at top left, rgba(0, 253, 216, 0.18), transparent 65%),
        radial-gradient(circle at bottom right, rgba(0, 253, 216, 0.12), transparent 65%),
        rgba(0, 0, 0, 0.78);
      box-shadow:
        0 0 0 1px rgba(0, 253, 216, 0.22),
        0 20px 50px rgba(0, 0, 0, 0.85);
      padding: 1.1rem 1.05rem 1.05rem;
      overflow: hidden;
      position: relative;
      min-height: 210px;
    }

    .m-card-header {
      display: grid;
      grid-template-columns: 64px minmax(0, 1fr) auto;
      gap: 0.85rem;
      align-items: center;
    }

    .m-avatar {
      width: 64px;
      height: 64px;
      border-radius: 18px;
      object-fit: cover;
      border: 1px solid rgba(0, 253, 216, 0.35);
      box-shadow:
        0 0 0 1px rgba(0, 253, 216, 0.18),
        0 0 26px rgba(0, 253, 216, 0.18);
      background: rgba(0, 0, 0, 0.4);
    }

    .m-card-name {
      font-size: 1.05rem;
      margin: 0;
      line-height: 1.05;
      letter-spacing: 0.01em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 22ch;
    }

    .m-card-vibe {
      margin-top: 0.18rem;
      font-size: 0.84rem;
      opacity: 0.88;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 34ch;
    }

    .m-score {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 72px;
      height: 44px;
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(0, 253, 216, 0.55);
      background:
        radial-gradient(circle at 0 0, rgba(0, 253, 216, 0.20), transparent 60%),
        rgba(0, 0, 0, 0.55);
      box-shadow:
        0 0 0 1px rgba(0, 253, 216, 0.28),
        0 0 22px rgba(0, 253, 216, 0.20);
      font-weight: 800;
      letter-spacing: 0.02em;
      font-size: 0.95rem;
      white-space: nowrap;
    }

    .m-card-body {
      margin-top: 0.85rem;
      display: grid;
      gap: 0.65rem;
      font-size: 0.9rem;
      opacity: 0.93;
    }

    .m-card-line { display: flex; flex-wrap: wrap; gap: 0.45rem; align-items: center; }
    .m-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.4rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(0, 253, 216, 0.28);
      background: rgba(0, 0, 0, 0.42);
      font-size: 0.78rem;
      white-space: nowrap;
      opacity: 0.92;
    }

    .m-snapshot {
      margin-top: 0.2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }

    .m-snapshot-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(0, 253, 216, 0.28);
      background: rgba(0, 0, 0, 0.90);
      font-size: 0.78rem;
      white-space: nowrap;
    }

    .m-highlight-box { padding: 0.55rem 0.7rem; border-radius: 14px; border: 1px solid rgba(0, 253, 216, 0.40); background: rgba(0, 0, 0, 0.90); font-size: 0.8rem; }

    .m-card-footer { margin-top: 0.95rem; display: flex; flex-wrap: wrap; gap: 0.6rem 0.7rem; align-items: center; justify-content: space-between; font-size: 0.78rem; }
    .m-card-actions { display: flex; flex-wrap: wrap; gap: 0.5rem; }
    .m-card-actions .btn { min-width: 150px; }
    .m-add-circle-btn { opacity: 0.92; }
    .m-add-circle-btn[aria-disabled="true"], .m-add-circle-btn:disabled { opacity: 0.55; cursor: not-allowed; }
    .m-card-tip { opacity: 0.8; font-size: 0.76rem; }

    .match-section-animated { opacity: 0; transform: translateY(16px); transition: opacity 650ms ease-out, transform 650ms ease-out; }
    .match-page.m-animate .match-section-animated { opacity: 1; transform: translateY(0); }
    .m-delay-1 { transition-delay: 60ms; }
    .m-delay-2 { transition-delay: 120ms; }
    .m-delay-3 { transition-delay: 180ms; }

    @media (max-width: 640px) {
      .m-hero { grid-template-columns: minmax(0, 1fr); }
      .m-card-header { grid-template-columns: minmax(0, 1fr); row-gap: 0.75rem; }
      .m-score { justify-content: flex-start; }
      .m-card-name, .m-card-vibe { white-space: normal; }
    }

    @media (prefers-reduced-motion: reduce) {
      .match-section-animated { opacity: 1 !important; transform: none !important; transition: none !important; }
      .m-card, .m-snapshot-chip, .match-toggle { transition: none !important; }
    }
  </style>
</head>

<body class="soulink-bg">
  <header class="topnav" data-active="Match" aria-label="Primary navigation">
    <div class="topnav-inner">
      <a href="index.html" class="brand" data-page="Home" aria-label="Soulink Home">Soulink</a>

      <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primaryNav" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>

      <nav id="primaryNav" class="nav-links" aria-label="Primary">
        <a href="index.html" data-page="Home">Home</a>
        <a href="quiz.html" data-page="Quiz">Quiz</a>
        <a href="edit-profile.html" data-page="Edit Profile">Edit Profile</a>
        <a href="my-soul.html" data-page="My Soul">My Soul</a>
        <a href="soul-chart.html" data-page="Soul Chart">Soul Chart</a>
        <a href="soul-coach.html" data-page="Soul Coach">Soul Coach</a>
        <a href="match.html" data-page="Match">Match</a>
        <a href="friends.html" data-page="Friends">Friends</a>
        <a href="results.html" data-page="Results">Results</a>
        <a href="login.html" data-page="Login">Log In</a>
        <a href="signup.html" data-page="Sign Up">Sign Up</a>
      </nav>
    </div>
  </header>

  <main class="page match-page">
    <div class="page-inner">
      <section id="matchEmpty" class="m-empty-card" hidden aria-live="polite">
        <div class="m-empty-title"><span>ðŸ§ª</span><span>No Matches Yet</span></div>
        <p class="m-empty-subtitle">
          When your matches are ready, youâ€™ll see a glowing list of compatible souls here â€” including both romantic and friendship energy.
        </p>
        <div class="m-empty-actions">
          <a href="quiz.html" class="btn outline">Go to Quiz</a>
          <a href="my-soul.html" class="btn">View My Soul</a>
        </div>
      </section>

      <section id="matchLayout">
        <section id="matchHero" class="m-hero match-section-animated m-delay-1">
          <div class="m-hero-inner">
            <div class="m-hero-left">
              <p class="m-kicker">Match Lab</p>
              <h1 class="m-title">Demo matches computed from your real profile</h1>
              <p class="m-subtitle">
                This page reads your base profile via data-helpers.js, then scores each DEMO match. Later, weâ€™ll switch the match source to real users by changing one function only.
              </p>

              <div class="m-hero-meta">
                <span class="m-pill" id="mMetaName" hidden><strong>NAME</strong><span id="mMetaNameValue">â€”</span></span>
                <span class="m-pill" id="mMetaLove" hidden><strong>LOVE</strong><span id="mMetaLoveValue">â€”</span></span>
                <span class="m-pill" id="mMetaType" hidden><strong>TYPE</strong><span id="mMetaTypeValue">â€”</span></span>
              </div>
            </div>

            <aside class="m-hero-right">
              <div class="m-hero-card">
                <p class="m-hero-card-title">Your matching knobs</p>
                <div class="m-hero-card-body">
                  <div class="m-hero-row"><span>Scoring model</span><strong>DEMO v1</strong></div>
                  <div class="m-hero-row"><span>Source</span><strong>DEMO_MATCHES</strong></div>
                  <div class="m-hero-row"><span>Updates</span><strong>Live (Refresh)</strong></div>
                </div>
              </div>

              <div class="m-hero-card">
                <p class="m-hero-card-title">Tip</p>
                <div class="m-hero-card-body">
                  <div class="m-highlight-box">Change your values / hobbies in Edit Profile, then tap <strong>Refresh</strong> here to see different match ordering.</div>
                </div>
              </div>
            </aside>
          </div>

          <div class="m-controls">
            <div class="m-search">
              <input id="mSearch" type="search" placeholder="Search matches by name or vibeâ€¦" autocomplete="off" />
            </div>
            <div class="m-actions">
              <button type="button" class="btn outline" id="mRefreshBtn">Refresh</button>
              <button type="button" class="btn outline" id="mSortBtn">Sort: Score</button>
            </div>
          </div>
        </section>

        <h2 class="m-section-title match-section-animated m-delay-2">Your matches</h2>
        <section id="mGrid" class="m-grid match-section-animated m-delay-3" aria-live="polite"></section>
      </section>
    </div>
  </main>

  <footer class="footer-note">
    Â© 2025 Soulink.global | Created with love by Soulink team.
  </footer>
</body>
</html>
