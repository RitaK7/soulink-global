<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soulink · Match Lab</title>
  <!-- Global site CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- NAV -->
  <nav class="navbar" role="navigation" aria-label="Main">
    <div class="nav-inner">
      <div class="brand">Soulink</div>
      <div class="nav-links">
        <a href="soul-coach.html">Soul Coach</a>
        <a href="match.html" aria-current="page">Match</a>
        <a href="friends.html">Friends</a>
        <a href="result.html">Results</a>
        <a href="login.html">Log In</a>
        <a href="signup.html">Sign Up</a>
        <a href="#" id="logoutLink">Log Out</a>
      </div>
      <div class="hamburger"><button id="openDrawer" aria-label="Open menu">☰ Menu</button></div>
    </div>
  </nav>

  <!-- MOBILE NAV DRAWER (existing pattern) -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="backdrop" id="drawerBackdrop" tabindex="-1" aria-label="Close"></div>
    <aside class="panel" role="dialog" aria-modal="true" aria-label="Navigation">
      <a href="soul-coach.html">Soul Coach</a>
      <a href="match.html" aria-current="page">Match</a>
      <a href="friends.html">Friends</a>
      <a href="result.html">Results</a>
      <a href="login.html">Log In</a>
      <a href="signup.html">Sign Up</a>
      <a href="#" id="logoutLinkMobile">Log Out</a>
      <button class="btn ghost" id="closeDrawer" style="margin-top:8px">Close</button>
    </aside>
  </div>

  <!-- PAGE STARS (subtle) -->
  <canvas class="mlab-stars" id="mlabStars" aria-hidden="true"></canvas>

  <main class="container">
    <header class="mlab-head enter">
      <h1>Match Lab ✨</h1>
      <p class="muted">See who resonates with your Connection, Love Language, Hobbies and Values. Hover or tap cards for details.</p>
    </header>

    <!-- Snapshot + Filters (desktop/tablet) -->
    <section class="mlab-grid">
      <!-- Snapshot -->
      <aside class="card glow-card mlab-snapshot enter" aria-label="Your snapshot">
        <h3 style="margin:0 0 8px">Your Snapshot</h3>
        <div class="mlab-pills">
          <span class="pill">🎭 <span id="me-ct">–</span></span>
          <span class="pill">💌 <span id="me-ll">–</span></span>
          <span class="pill">🎵 <span id="me-hobbies">–</span></span>
          <span class="pill">💎 <span id="me-values">–</span></span>
        </div>
      </aside>

      <!-- Filters (desktop/tablet visible) -->
      <section class="card glow-card mlab-filters enter" aria-label="Filters">
        <div class="mlab-filters-bar">
          <div class="field">
            <label for="f-search">🔍 Search</label>
            <input id="f-search" type="text" placeholder="Name, hobby, value, note…" />
          </div>
          <div class="field">
            <label for="f-ct">Connection</label>
            <select id="f-ct">
              <option value="">Any</option>
              <option>Friendship</option>
              <option>Romantic</option>
              <option>Both</option>
            </select>
          </div>
          <div class="field">
            <label for="f-min">Min score</label>
            <input id="f-min" type="number" min="0" max="100" step="5" value="0" />
          </div>
          <div class="field slider">
            <label for="f-llw">Love Language weight</label>
            <div class="slider-wrap">
              <input id="f-llw" type="range" min="0" max="2" step=".1" value="1" />
              <span id="llw-label">1.0×</span>
            </div>
          </div>
          <div class="buttons">
            <button class="btn" id="btn-reset">Reset</button>
            <button class="btn outline mlab-open-filters" id="btn-open-filters">Filters on mobile</button>
          </div>
        </div>
      </section>
    </section>

    <!-- Mobile Filters Drawer -->
    <div class="mlab-filter-drawer" id="filtersDrawer" aria-hidden="true">
      <div class="mlab-filter-backdrop" id="filtersBackdrop"></div>
      <aside class="mlab-filter-panel" role="dialog" aria-modal="true" aria-label="Filters">
        <h3 style="margin:0 0 10px">Filters</h3>
        <div class="field">
          <label for="m-search">🔍 Search</label>
          <input id="m-search" type="text" placeholder="Name, hobby, value, note…" />
        </div>
        <div class="field">
          <label for="m-ct">Connection</label>
          <select id="m-ct">
            <option value="">Any</option>
            <option>Friendship</option>
            <option>Romantic</option>
            <option>Both</option>
          </select>
        </div>
        <div class="field">
          <label for="m-min">Min score</label>
          <input id="m-min" type="number" min="0" max="100" step="5" value="0" />
        </div>
        <div class="field slider">
          <label for="m-llw">Love Language weight</label>
          <div class="slider-wrap">
            <input id="m-llw" type="range" min="0" max="2" step=".1" value="1" />
            <span id="m-llw-label">1.0×</span>
          </div>
        </div>
        <div class="row" style="margin-top:8px;gap:8px">
          <button class="btn" id="m-apply">Apply</button>
          <button class="btn ghost" id="m-close">Close</button>
        </div>
      </aside>
    </div>

    <!-- Results -->
    <section id="empty" class="mlab-empty" style="display:none">Add some friends in <a href="friends.html">Friends</a> to see matches ✨</section>
    <section id="results" class="mlab-results enter" aria-live="polite"></section>

    <nav class="mlab-pager">
      <a class="btn ghost" href="soul-coach.html">← Back: Soul Coach</a>
      <a class="btn" href="result.html">Next: Results →</a>
    </nav>

    <footer>
      <span>© 2025 Soulink.global | Created with love by Soulink Team</span>
    </footer>
  </main>

  <script src="match.js?v=7" defer></script>
</body>
</html>
